{"ast":null,"code":"import _slicedToArray from\"C:/Users/jvkee/Documents/careerfoundry/meet/meet/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CitySearch=function CitySearch(_ref){var allLocations=_ref.allLocations,setCurrentCity=_ref.setCurrentCity;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showSuggestions=_useState2[0],setShowSuggestions=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),query=_useState4[0],setQuery=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),suggestions=_useState6[0],setSuggestions=_useState6[1];var handleInputChanged=function handleInputChanged(event){var value=event.target.value;var filteredLocations=allLocations?allLocations.filter(function(location){return location.toUpperCase().indexOf(value.toUpperCase())>-1;}):[];setQuery(value);setSuggestions(filteredLocations);};var handleItemClicked=function handleItemClicked(event){var value=event.target.textContent;setQuery(value);setShowSuggestions(false);// to hide the list\nsetCurrentCity(value);};return/*#__PURE__*/_jsxs(\"div\",{\"data-testid\":\"city-search\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"city\",placeholder:\"Search for a city\",value:query,on:true,onFocus:function onFocus(){return setShowSuggestions(true);},onChange:handleInputChanged}),showSuggestions&&query.length!==0?/*#__PURE__*/_jsxs(\"ul\",{className:\"suggestions\",children:[suggestions.map(function(suggestion){return/*#__PURE__*/_jsx(\"li\",{onClick:handleItemClicked,children:suggestion},suggestion);}),/*#__PURE__*/_jsx(\"li\",{onClick:handleItemClicked,children:/*#__PURE__*/_jsx(\"b\",{children:\"See all cities\"})},\"See all cities\")]}):null]});};export default CitySearch;","map":{"version":3,"names":["useState","jsx","_jsx","jsxs","_jsxs","CitySearch","_ref","allLocations","setCurrentCity","_useState","_useState2","_slicedToArray","showSuggestions","setShowSuggestions","_useState3","_useState4","query","setQuery","_useState5","_useState6","suggestions","setSuggestions","handleInputChanged","event","value","target","filteredLocations","filter","location","toUpperCase","indexOf","handleItemClicked","textContent","children","type","className","placeholder","on","onFocus","onChange","length","map","suggestion","onClick"],"sources":["C:/Users/jvkee/Documents/careerfoundry/meet/meet/src/components/CitySearch.js"],"sourcesContent":["import { useState} from \"react\";\r\n\r\nconst CitySearch = ({ allLocations, setCurrentCity }) => {\r\n  const [showSuggestions, setShowSuggestions] = useState(false);\r\n  const [query, setQuery] = useState(\"\");\r\n  const [suggestions, setSuggestions] = useState([]);\r\n\r\n  const handleInputChanged = (event) => {\r\n    const value = event.target.value;\r\n    const filteredLocations = allLocations\r\n      ? allLocations.filter((location) => {\r\n          return location.toUpperCase().indexOf(value.toUpperCase()) > -1;\r\n        })\r\n      : [];\r\n\r\n    setQuery(value);\r\n    setSuggestions(filteredLocations);\r\n  };\r\n\r\n  const handleItemClicked = (event) => {\r\n    const value = event.target.textContent;\r\n    setQuery(value);\r\n    setShowSuggestions(false); // to hide the list\r\n    setCurrentCity(value);\r\n  };\r\n  return (\r\n    <div data-testid=\"city-search\">\r\n      <input\r\n        type=\"text\"\r\n        className=\"city\"\r\n        placeholder=\"Search for a city\"\r\n        value={query}\r\n        on\r\n        onFocus={() => setShowSuggestions(true)}\r\n        onChange={handleInputChanged}\r\n      />\r\n      {showSuggestions && query.length !==0 ? (\r\n        <ul className=\"suggestions\">\r\n          {suggestions.map((suggestion) => {\r\n            return (\r\n              <li onClick={handleItemClicked} key={suggestion}>\r\n                {suggestion}\r\n              </li>\r\n            );\r\n          })}\r\n          <li key=\"See all cities\" onClick={handleItemClicked}>\r\n            <b>See all cities</b>\r\n          </li>\r\n        </ul>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CitySearch;\r\n"],"mappings":"sIAAA,OAASA,QAAQ,KAAO,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEhC,GAAM,CAAAC,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAAC,IAAA,CAAyC,IAAnC,CAAAC,YAAY,CAAAD,IAAA,CAAZC,YAAY,CAAEC,cAAc,CAAAF,IAAA,CAAdE,cAAc,CAChD,IAAAC,SAAA,CAA8CT,QAAQ,CAAC,KAAK,CAAC,CAAAU,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAtDG,eAAe,CAAAF,UAAA,IAAEG,kBAAkB,CAAAH,UAAA,IAC1C,IAAAI,UAAA,CAA0Bd,QAAQ,CAAC,EAAE,CAAC,CAAAe,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA/BE,KAAK,CAAAD,UAAA,IAAEE,QAAQ,CAAAF,UAAA,IACtB,IAAAG,UAAA,CAAsClB,QAAQ,CAAC,EAAE,CAAC,CAAAmB,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAA3CE,WAAW,CAAAD,UAAA,IAAEE,cAAc,CAAAF,UAAA,IAElC,GAAM,CAAAG,kBAAkB,CAAG,QAArB,CAAAA,kBAAkBA,CAAIC,KAAK,CAAK,CACpC,GAAM,CAAAC,KAAK,CAAGD,KAAK,CAACE,MAAM,CAACD,KAAK,CAChC,GAAM,CAAAE,iBAAiB,CAAGnB,YAAY,CAClCA,YAAY,CAACoB,MAAM,CAAC,SAACC,QAAQ,CAAK,CAChC,MAAO,CAAAA,QAAQ,CAACC,WAAW,CAAC,CAAC,CAACC,OAAO,CAACN,KAAK,CAACK,WAAW,CAAC,CAAC,CAAC,CAAG,CAAC,CAAC,CACjE,CAAC,CAAC,CACF,EAAE,CAENZ,QAAQ,CAACO,KAAK,CAAC,CACfH,cAAc,CAACK,iBAAiB,CAAC,CACnC,CAAC,CAED,GAAM,CAAAK,iBAAiB,CAAG,QAApB,CAAAA,iBAAiBA,CAAIR,KAAK,CAAK,CACnC,GAAM,CAAAC,KAAK,CAAGD,KAAK,CAACE,MAAM,CAACO,WAAW,CACtCf,QAAQ,CAACO,KAAK,CAAC,CACfX,kBAAkB,CAAC,KAAK,CAAC,CAAE;AAC3BL,cAAc,CAACgB,KAAK,CAAC,CACvB,CAAC,CACD,mBACEpB,KAAA,QAAK,cAAY,aAAa,CAAA6B,QAAA,eAC5B/B,IAAA,UACEgC,IAAI,CAAC,MAAM,CACXC,SAAS,CAAC,MAAM,CAChBC,WAAW,CAAC,mBAAmB,CAC/BZ,KAAK,CAAER,KAAM,CACbqB,EAAE,MACFC,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAzB,kBAAkB,CAAC,IAAI,CAAC,EAAC,CACxC0B,QAAQ,CAAEjB,kBAAmB,CAC9B,CAAC,CACDV,eAAe,EAAII,KAAK,CAACwB,MAAM,GAAI,CAAC,cACnCpC,KAAA,OAAI+B,SAAS,CAAC,aAAa,CAAAF,QAAA,EACxBb,WAAW,CAACqB,GAAG,CAAC,SAACC,UAAU,CAAK,CAC/B,mBACExC,IAAA,OAAIyC,OAAO,CAAEZ,iBAAkB,CAAAE,QAAA,CAC5BS,UAAU,EADwBA,UAEjC,CAAC,CAET,CAAC,CAAC,cACFxC,IAAA,OAAyByC,OAAO,CAAEZ,iBAAkB,CAAAE,QAAA,cAClD/B,IAAA,MAAA+B,QAAA,CAAG,gBAAc,CAAG,CAAC,EADf,gBAEJ,CAAC,EACH,CAAC,CACH,IAAI,EACL,CAAC,CAEV,CAAC,CAED,cAAe,CAAA5B,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}